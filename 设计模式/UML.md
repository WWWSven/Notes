> 关联依赖，变量&参数，(-->, ..>)
> 泛化实现，is-a，(--|>, ..|>)
> 聚合组合，has-a，组合是强依赖 (--o, --*)

# 关联和依赖

- 关联关系(association, 关联对象通常以成员变量形式出现, 一种静态关系, 一般由常识因素决定)

  - 它描述不同类的对象之间的结构关系；它是一种静态关系， 通常与运行状态无关，一般由常识等因素决定的；它一般用来定义对象之间静态的、天然的结构； 所以，关联关系是一种“强关联”的关系；

    比如，乘车人和车票之间就是一种关联关系；学生和学校就是一种关联关系；

  - 关联关系默认不强调方向，表示对象间相互知道；
    如果特别强调方向，如下图，表示B知道A，但 A不知道B；

  ```mermaid
  classDiagram
    A_车票 <-- B_乘车人
    A_学校 <-- B_学生
  ```

- 依赖关系(dependency, 通常以构造方法和类方法的参数形式出现, 一种临时关系, 表示一个对象运行时会用到另一个对象)

  - 在最终代码中，依赖关系体现为类构造方法及类方法的传入参数，箭头的指向为调用关系；依赖关系除了临时知道对方外，还是“使用”对方的方法和属性;
  - 如下图表示B依赖于A；他描述一个对象在运行期间会用到另一个对象的关系；
  - 与关联关系不同的是，它是一种临时性的关系，通常在运行期间产生，并且随着运行时的变化； 依赖关系也可能发生变化；
  - 显然，依赖也有方向，双向依赖是一种非常糟糕的结构，我们总是应该保持单向依赖，杜绝双向依赖的产生；
  
  ```mermaid
  classDiagram
    A<..B
  ```

# 泛化和实现(is-a)

- 泛化(generalization, 在Java中表现为继承非抽象类)

  ```mermaid
  classDiagram
    汽车 <|-- SUV
  ```

- 实现(realize, 在Java中表现为接口)

  ```mermaid
  classDiagram
    车 <|.. 小汽车
    车 <|.. 自行车
    class 车{
      <<interface>>
    }
  ```
  

# 聚合与组合(has-a)

- 聚合(aggregation, 非强依赖)

  - 聚合关系用于表示实体对象之间的关系，表示整体由部分构成的语义；例如一个部门由多个员工组成；

  - 与组合关系不同的是，整体和部分不是强依赖的，即使整体不存在了，部分仍然存在；例如， 部门撤销了，人员不会消失，他们依然存在；

  ```mermaid
  classDiagram
    A_部门 o-- B_员工 : "对象A包含对象B, 对象B可以独立存在!"
  ```

- 组合(composition, 强依赖)

  - 与聚合关系一样，组合关系同样表示整体由部分构成的语义；比如公司由多个部门组成；
  - 但组合关系是一种强依赖的特殊聚合关系，如果整体不存在了，则部分也不存在了；例如， 公司不存在了，部门也将不存在了；

  ```mermaid
  classDiagram
    A_公司 *-- B_部门 : "A由B组成, A负责管理B的生命周期, B无法独立于A存在!" 
  ```

  



