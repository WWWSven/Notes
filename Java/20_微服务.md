### 是啥？

> 分布式架构的最佳实践

### 学习啥？

![image-20220421181540300](../.image/image-20220421181540300.png)

![image-20220421094611534](../.image/image-20220421094611534.png)

![image-20220421094650965](../.image/image-20220421094650965.png)

### 技术对比

![image-20220421182135734](../.image/image-20220421182135734.png)

#### SpringCloud

> SpringCloud集成了各种微服务功能组件，并基于SpringBoot实现了这些组件的自动装配，从而提供了良好的开箱即用体验。
>
> SpringCloud依赖于SpringBoot，有版本的兼容关系。
>
> SpringCloud和Springboot的关系:
>
> 1,SpringCloud: 微服务管理和治理的技术集合
>
> 2,Springboot:  开发微服务

- 服务注册发现
  - Eureka
  - Nacos
  - Consul
- 服务远程调用
  - OpenFign
  - Dubbo
- 服务链路监控
  - Zipkin
  - Sleuth
- 统一配置管理
  - SpringCloudConfig
  - Nacos
- 统一网关路由
  - SpringCloudGetway
  - Zuul
- 流控，降级，保护
  - Hystix
  - Sentinel



#### 几种常见的选型

![image-20220421182312393](../.image/image-20220421182312393.png)

### 0 微服务技术

#### 0.0 注册发现

- A服务如何得知B服务的主机地址？
  - B服务实例启动后，将自己的信息注册到Eureka，这就是服务注册。
  - Eureka保存服务名称到服务实例地址的映射关系。
  - A根据服务名称，从Eureka拉取实例地址列表，这就是服务发现。
- A服务如何从多个B服务中选择一个实例？
  - A服务从Eureka拉取实例地址列表，根据负载均衡算法选择一个实例地址。
- A服务如何得知某个B服务是否健康，是否已经宕机？
  - B服务会每隔一段时间（默认30秒）向Eureka发送请求，报告自己的状态，称为心跳。
  - 当超过一定时间没有发送心跳时，Eureka认为微服务实例故障，从列表中删除。

> 一个微服务，既可以是服务提供者，又可以是服务消费者，是相对而言的，
>
> A是B的服务消费者，B是A的服务提供者，B也可以是C的服务消费者，
>
> 正因如此Eureka将服务注册，服务发现等功能统一封装到了Eureka-client。

#### 0.1 远程调用

#### 0.2 配置管理

#### 0.3 网关路由